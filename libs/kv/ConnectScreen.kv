#:import utils kivy.utils
#:import os os

<ConnectScreen>
    Screen:
        name: 'connect'
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#1D1C2BFF')
            Rectangle:
                pos: self.pos
                size: self.size
        MDFloatLayout:
            pos_hint: {'x':.01, 'y':.01}
            size_hint: None , None
            size: 350, 100
            MDLabel:
                text: 'DeepMom'
                font_name: 'assets/fonts/KOTRA_BOLD.ttf'
                font_size: 60
                theme_text_color: 'Custom'
                text_color: utils.get_color_from_hex('#80808080')
                halign: 'center'
                pos_hint: {'center_x': .5, 'center_y': .5}
        MDFloatLayout:
            id: base_Float
            pos_hint: {'center_x':.5, 'center_y':.5}
            size_hint: None , None
            size: 400, 450
            canvas.before:
                Color:
                    rgba: utils.get_color_from_hex('#26283A')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [25, 25, 25, 25]
            MDFloatLayout:
                id: option_text_field_1
                pos_hint: {'center_x':.5, 'center_y':.5}
                size_hint: None , None
                size: 0, 0
                MDTextField:
                    id: user_id
                    hint_text: ''
                    pos_hint: {'center_x':.5, 'center_y':.65}
                    size_hint_x: .6
                    disabled: True
                    write_tab: False
                    multiline: False
                    on_text_validate: root.connect_press()
                MDTextField:
                    id: user_passwd
                    hint_text: ''
                    pos_hint: {'center_x':.5, 'center_y':.525}
                    size_hint_x: .6
                    disabled: True
                    password: True
                    multiline: False
                    write_tab: False
                    on_text_validate: root.connect_press()
            MDFloatLayout:
                id: option_text_field_2
                pos_hint: {'center_x':.5, 'center_y':.65}
                size_hint: None , None
                size: 400, 450
                MDTextField:
                    id: broker_ip
                    hint_text: 'Broker IP'
                    pos_hint: {'x':.2, 'center_y':.4}
                    size_hint_x: .4
                    multiline: False
                    write_tab: False
                    on_text_validate: root.connect_press()
                MDTextField:
                    id: broker_port
                    hint_text: 'Port'
                    pos_hint: {'right':.8, 'center_y':.4}
                    size_hint_x: .15
                    multiline: False
                    write_tab: False
                    on_text_validate: root.connect_press()
                MDFillRoundFlatButton:
                    id: connect_button
                    text:'Connect'
                    theme_text_color: 'Custom'
                    text_color: utils.get_color_from_hex('#26283A')
                    font_size: 16
                    pos_hint: {'center_x':.5, 'center_y':.15}
                    size_hint_x: .4
                    on_release: root.connect_press()
                MDLabel:
                    id: explain_label
                    text: 'using user account'
                    font_size: 14
                    theme_text_color: 'Custom'
                    text_color: utils.get_color_from_hex('#87878F')
                    halign: 'center'
                    pos_hint: {'center_x': .5, 'center_y': .275}
                MDCheckbox:
                    id: using_account_check_box
                    size_hint: None, None
                    size: '48dp', '48dp'
                    pos_hint: {'x': .25, 'center_y': .275}
                    active: False
                    unselected_color: utils.get_color_from_hex('#243D4CFF')
                    on_release: root.check_press()
            MDSpinner:
                id: spinner
                active: False
                size_hint: None, None
                size: '48dp', '48dp'
                color: utils.get_color_from_hex('#1EB9B9FF')
                pos_hint: {'center_x': .5, 'center_y': .5}
            MDFloatLayout:
                pos_hint: {'center_x':.5, 'top':1}
                size_hint: None , None
                size: 128, 128
                Image:
                    source: 'assets/images/logo_128.png'
                    pos_hint: {'center_x':.5, 'center_y': .5}
            MDFloatLayout:
                id: mqtt_topic_wrapper
                pos_hint: {'center_x':.5, 'center_y':.5}
                size_hint: None , None
                size: 0, 0
                canvas.before:
                    Color:
                        rgba: utils.get_color_from_hex('#00000000')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                MDTextField:
                    id: mqtt_topic
                    hint_text: ''
                    pos_hint: {'x':.05, 'center_y':.425}
                    size_hint_x: .65
                    disabled: True
                    multiline: False
                    write_tab: False
                    on_text_validate: root.subscribe_press('trash')
                MDTextField:
                    id: epoch
                    hint_text: ''
                    pos_hint: {'right':.95, 'center_y':.425}
                    size_hint_x: .2
                    disabled: True
                    multiline: False
                    write_tab: False
                    on_text_validate: root.subscribe_press('trash')
        MDFloatLayout:
            pos: root.width-200, 20
            size_hint: None , None
            size: 90, 35
            MDTextButton:
                halign: 'left'
                theme_text_color: 'Custom'
                text_color: utils.get_color_from_hex('#87878F')
                text: 'github'
                size_hint: .75, .75
                pos_hint: {'center_x': .75, 'center_y': .5 }
                on_release:
                    import webbrowser
                    webbrowser.open('https://github.com/cheesam31')
            MDIcon:
                halign: 'center'
                theme_text_color: 'Custom'
                text_color: utils.get_color_from_hex('#87878F')
                icon: 'github'
                size_hint: 1, 1
                pos_hint: {'center_x':.225 , 'center_y': .5 }
        MDFloatLayout:
            pos: root.width-110, 20
            size_hint: None , None
            size: 90, 35
            MDTextButton:
                halign: 'left'
                theme_text_color: 'Custom'
                text_color: utils.get_color_from_hex('#87878F')
                text: 'blog'
                size_hint: .75, .75
                pos_hint: {'center_x': .75, 'center_y': .5 }
                on_release:
                    import webbrowser
                    webbrowser.open('https://velog.io/@cheesam31')
            MDIcon:
                halign: 'center'
                theme_text_color: 'Custom'
                text_color: utils.get_color_from_hex('#87878F')
                icon: 'notebook-outline'
                size_hint: 1, 1
                pos_hint: {'center_x':.225 , 'center_y': .5 }
