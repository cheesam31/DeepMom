#:import utils kivy.utils
#:import os os

<ConnectScreen>
    Screen:
        name: "connect"
        canvas.before:
            Color:
                rgba: utils.get_color_from_hex('#C2E2C380')
            Rectangle:
                pos: self.pos
                size: self.size
        MDFloatLayout:
            pos_hint: {"x":.01, "y":.01}
            size_hint: None , None
            size: 350, 100
            MDLabel:
                text: "DeepMom"
                font_name: "asset/fonts/KOTRA_BOLD.ttf"
                font_size: 60
                theme_text_color: "Custom"
                text_color: utils.get_color_from_hex('#FFFFFFFF')
                halign: "center"
                pos_hint: {'center_x': .5, 'center_y': .5}
        MDFloatLayout:
            id: base_Float
            pos_hint: {"center_x":.5, "center_y":.5}
            size_hint: None , None
            size: 400, 450
            canvas.before:
                Color:
                    rgba: utils.get_color_from_hex('#FFFFFF80')
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [25, 25, 25, 25]
            MDFloatLayout:
                id: option_text_field_1
                pos_hint: {"center_x":.5, "center_y":.5}
                size_hint: None , None
                size: 400, 450
                MDTextField:
                    id: user_id
                    hint_text: "Enter your ID"
                    pos_hint: {"center_x":.5, "center_y":.65}
                    size_hint_x: .6
                    disabled: False
                    line_color_focus: utils.get_color_from_hex('#158585FF')
                MDTextField:
                    id: user_passwd
                    hint_text: "Enter your passwd"
                    pos_hint: {"center_x":.5, "center_y":.525}
                    size_hint_x: .6
                    disabled: False
                    password: True
                    line_color_focus: utils.get_color_from_hex('#158585FF')
            MDFloatLayout:
                id: option_text_field_2
                pos_hint: {"center_x":.5, "center_y":.5}
                size_hint: None , None
                size: 400, 450
                MDTextField:
                    id: broker_ip
                    hint_text: "Broker IP"
                    pos_hint: {"x":.2, "center_y":.4}
                    size_hint_x: .4
                    line_color_focus: utils.get_color_from_hex('#158585FF')
                MDTextField:
                    id: broker_port
                    hint_text: "Port"
                    pos_hint: {"right":.8, "center_y":.4}
                    size_hint_x: .15
                    line_color_focus: utils.get_color_from_hex('#158585FF')
                MDFillRoundFlatButton:
                    id: connect_button
                    text:"Connect"
                    font_size: 16
                    pos_hint: {"center_x":.5, "center_y":.15}
                    size_hint_x: .4
                    on_release: root.connect_press()
                    theme_background_color: "Custom"
                    md_bg_color: utils.get_color_from_hex('#1EB9B9FF')
                MDLabel:
                    id: explain_label
                    text: "using user account"
                    font_size: 14
                    theme_text_color: "Custom"
                    text_color: 133, 133, 133, 1
                    halign: "center"
                    pos_hint: {'center_x': .5, 'center_y': .275}
                MDCheckbox:
                    id: using_account_check_box
                    size_hint: None, None
                    size: "48dp", "48dp"
                    pos_hint: {'x': .25, 'center_y': .275}
                    active: True
                    on_release:
                        root.check_press(option_text_field_1)
                    selected_color: utils.get_color_from_hex('#1EB9B9BF')
            MDSpinner:
                id: spinner
                active: False
                size_hint: None, None
                size: "48dp", "48dp"
                color: utils.get_color_from_hex('#1EB9B9FF')
                pos_hint: {'center_x': .5, 'center_y': .5}
            MDFloatLayout:
                pos_hint: {"center_x":.5, "top":1}
                size_hint: None , None
                size: 128, 128
                Image:
                    source: "asset/images/logo_128.png"
                    pos_hint: {"center_x":.5, "center_y": .5}
            MDFloatLayout:
                id: mqtt_topic_wrapper
                pos_hint: {"center_x":.5, "center_y":.5}
                size_hint: None , None
                size: 0, 0
                canvas.before:
                    Color:
                        rgba: utils.get_color_from_hex('#00000000')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                MDTextField:
                    id: mqtt_topic
                    hint_text: ""
                    pos_hint: {"x":.05, "center_y":.425}
                    size_hint_x: .65
                    line_color_focus: utils.get_color_from_hex('#158585FF')
                MDTextField:
                    id: epoch
                    hint_text: ""
                    pos_hint: {"right":.95, "center_y":.425}
                    size_hint_x: .2
                    line_color_focus: utils.get_color_from_hex('#158585FF')
        MDFloatLayout:
            pos_hint: {'right': .92, 'y': .01}
            size_hint: None , None
            size: 90, 35
            MDTextButton:
                halign: "left"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, .5
                text: "github"
                custom_color: 0, 1, 0, 1
                size_hint: .75, .75
                pos_hint: {'center_x': .75, 'center_y': .5 }
                on_release:
                    import webbrowser
                    webbrowser.open('https://github.com/cheesam31')
            MDIcon:
                halign: "center"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, .5
                icon: "github"
                size_hint: 1, 1
                pos_hint: {'center_x':.225 , 'center_y': .5 }
        MDFloatLayout:
            pos_hint: {'right': .99, 'y': .01}
            size_hint: None , None
            size: 90, 35
            MDTextButton:
                halign: "left"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, .5
                text: "blog"
                custom_color: 0, 1, 0, 1
                size_hint: .75, .75
                pos_hint: {'center_x': .75, 'center_y': .5 }
                on_release:
                    import webbrowser
                    webbrowser.open('https://velog.io/@cheesam31')
            MDIcon:
                halign: "center"
                theme_text_color: "Custom"
                text_color: 0, 0, 0, .5
                icon: "notebook-outline"
                size_hint: 1, 1
                pos_hint: {'center_x':.225 , 'center_y': .5 }
